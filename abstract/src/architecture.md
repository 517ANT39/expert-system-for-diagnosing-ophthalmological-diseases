# Архитектура приложения

## Контекст

При проектировании экспертной системы для дифференциальной диагностики офтальмологических заболеваний необходимо обеспечить одновременную работу с двумя типами данных:

- данные приложения (учётные записи пользователей, истории консультаций, протоколы осмотров и действия врачей);
- знания в виде диагностической модели, представляющей взаимосвязи между симптомами, признаками и заболеваниями.

Использование единой базы данных для обеих задач усложняет модель данных и затрудняет эффективную работу с разнородной информацией. Это мотивирует архитектурное разделение прикладных данных и базы знаний [[1](./sources.md#ref1)].

## Решение

Принято архитектурное решение использовать модель **MVC (Model–View–Controller)** [[2](./sources.md#ref2)], в которой:
- **Model** разделена на два уровня:
  - база данных приложения для хранения пользовательских и транзакционных данных,
  - база знаний для хранения предметной области в виде взаимосвязей симптомов, признаков и заболеваний;
- **View** отвечает за взаимодействие с врачом: интерфейс для сбора клинической информации, представления результатов диагностики и объяснений;
- **Controller** реализует управляемую бизнес-логику: маршрутизацию запросов от интерфейса к моделям данных, обработку диагностического вывода и возврат результатов врачу [[3](./sources.md#ref3)].

Диаграмма архитектуры:

@drawio{https://github.com/517ANT39/expert-system-for-diagnosing-ophthalmological-diseases/blob/main/abstract/diagrams/arch.drawio}

## Последствия

**Положительные:**
- Разделение данных на прикладные и экспертные делает систему более прозрачной и удобной для сопровождения [[4](./sources.md#ref4)];
- Архитектурный паттерн MVC обеспечивает модульность: можно независимо развивать интерфейс, бизнес-логику и модель данных [[4](./sources.md#ref4)];
- Повышается масштабируемость: базы можно развивать и оптимизировать под свои задачи без взаимных ограничений.

**Отрицательные:**
- Увеличивается сложность инфраструктуры, так как приходится работать сразу с двумя логически разными хранилищами;
- Повышается сложность изменения бизнес-логики.
