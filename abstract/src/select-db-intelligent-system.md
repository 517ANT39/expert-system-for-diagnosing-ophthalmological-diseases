# Выбор хранилища данных для базы знаний

## Статус 
**Принято**

## Контекст
Экспертная система для дифференциальной диагностики использует граф принятия решений, где узлы представляют диагностические вопросы или состояния, а рёбра — возможные переходы на основе ответов "Да"/"Нет". Необходимо выбрать базу данных, которая обеспечивает эффективное хранение и быстрый доступ к графовым структурам. Какую графовую СУБД выбрать для оптимальной работы с графом решений?

## Драйверы принятия решений
- Эффективное хранение и быстрый обход графовых структур.  
- Поддержка специализированных графовых операций и алгоритмов (DFS, BFS).  
- Удобный декларативный язык запросов для работы с графами.  
- Независимость от облачных платформ и минимизация стоимости.  

## Рассмотренные варианты
- **Amazon Neptune:** Управляемая графовая БД от AWS, высокая производительность, но привязка к экосистеме Amazon и потенциально высокая стоимость для учебного проекта.  
- **ArangoDB:** Мультимодельная БД, поддерживает графы, документы и key-value, но менее специализирована для чистых графовых операций.  
- **Neo4j:** Нативная графовая СУБД с декларативным языком Cypher, оптимизированная для работы с графами и алгоритмами обхода.  

## Результат решения
**Выбор сделан:** "Neo4j", поскольку это единственный вариант, который обеспечивает встроенную поддержку графовых структур, эффективные алгоритмы обхода и понятный, интуитивно понятный язык запросов (Cypher), подходящий для представления и запроса графа решений.

## Последствия
**Положительные**

- Эффективное выполнение алгоритмов обхода графа (DFS, BFS), критичных для навигации по графу решений.  
- Интуитивно понятный язык запросов Cypher упрощает разработку и поддержку графовой модели.  
- Оптимизация хранения и доступа к графовым структурам без сложных JOIN-ов.  
- Независимость от облачных платформ и гибкость развертывания локально или на сервере проекта.  

**Отрицательные**

- Не предназначена для хранения больших объемов структурированных данных пользователей и историй пациентов (для этого используется PostgreSQL).  
- Требует отдельного сервера или контейнера для работы и администрирования.  
- Порог изучения Cypher выше, чем у стандартного SQL для разработчиков, ранее не работавших с графовыми БД.
