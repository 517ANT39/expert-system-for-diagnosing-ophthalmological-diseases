# Выбор хранилища данных для базы знаний

## Контекст
Экспертная система для дифференциальной диагностики использует граф принятия решений, где узлы представляют диагностические вопросы или состояния, а рёбра — возможные переходы на основе ответов "Да"/"Нет" [[14](./sources.md#ref14)].  
Необходимо выбрать хранилище данных, которое обеспечивает эффективное хранение графовых структур, быстрый доступ и возможность обхода без сложной серверной инфраструктуры [[15](./sources.md#ref15)].

## Факторы, влияющие на принятие решений
- Эффективное хранение и быстрый обход графовых структур. Система должна обеспечивать обход до 10 000 узлов за менее чем 200 мс [[14](./sources.md#ref14)].  
- Простота сериализации и десериализации графа в удобном для обработки формате [[15](./sources.md#ref15)].  
- Возможность локального развертывания без необходимости установки и администрирования серверных компонентов [[16](./sources.md#ref16)].  
- Минимизация требований к ресурсам и независимость от облачных решений [[15](./sources.md#ref15)].

## Рассмотренные варианты
- **Neo4j:** Нативная графовая СУБД, обеспечивающая поддержку языка запросов Cypher и оптимизированная для обработки сложных графов. Однако требует отдельного серверного окружения и дополнительных ресурсов [[14](./sources.md#ref14)].  
- **ArangoDB:** Мультимодельная СУБД, поддерживающая графы, документы и key-value, но обладающая избыточной функциональностью для небольшой локальной экспертной системы [[15](./sources.md#ref15)].  
- **JSON-файл:** Простое файловое хранилище в формате JSON, позволяющее хранить граф как набор узлов и связей. Обеспечивает лёгкую сериализацию, быстрый доступ и автономную работу без серверных зависимостей [[16](./sources.md#ref16)].

## Результат решения
**Выбор сделан:** "JSON-файл", так как это наиболее простое, лёгкое и автономное решение, обеспечивающее хранение графа решений в структурированном виде без необходимости использования серверной СУБД.  
JSON обеспечивает эффективное чтение и запись данных, легко интегрируется с приложением и полностью удовлетворяет требованиям по производительности и автономности [[15](./sources.md#ref15)].

## Последствия

**Положительные**

- Простое хранение графа решений без необходимости установки серверной графовой базы данных [[14](./sources.md#ref14)].  
- Высокая скорость доступа и обхода для графов небольшого и среднего размера (до 10 000 узлов) — время обхода не превышает 200 мс [[15](./sources.md#ref15)].  
- Полная автономность, переносимость и простота резервного копирования (все данные в одном файле) [[16](./sources.md#ref16)].  
- Возможность интеграции с любыми языками программирования и библиотеками без дополнительного ПО [[16](./sources.md#ref16)].

**Отрицательные**

- Отсутствие встроенных механизмов индексации и транзакций, присущих специализированным графовым СУБД [[14](./sources.md#ref14)].  
- Ограниченные возможности масштабирования при росте объема графа [[15](./sources.md#ref15)].  
